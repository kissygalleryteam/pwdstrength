<!DOCTYPE html>
<html>
<head>
    <title>阿里云注册页Demo</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://h.alipayobjects.com/static/css/core.css?v=202.0.0813">
    <link rel="stylesheet" href="https://h.alipayobjects.com/static/css/aliyun.css?v=202.0.0813">
    <script src="http://g.tbcdn.cn/kissy/k/1.3.0/kissy-min.js" charset="utf-8"></script>
    <style type="text/css">
        html{
            overflow: hidden;
        }
    </style>
</head>
<body>
    <div id="regist-module" class="clr" style="margin-bottom:2.0.0px; margin-top:5px">
        <div id="regist-wrap">
            <form id="regist" name="regist" method="post">
                <input name="_csrf_token" id="_csrf_token" type="hidden" value="48Ob7KJOhBaEIXBgiQEmy2">
                <input type="hidden" name="action" value="aliyun_register_action">

                <input type="hidden" id="umidToken" name="umidToken" value="Pe1d14136c1267c038ee787d30d696e0b">
                <input type="hidden" name="_fm.a._0.pa" value="%7B%22site%22%3A%226%22%2C%22ru%22%3A%22http%3A%2F%2Fwww.aliyun.com%2F%22%7D">
                <input type="hidden" name="_fm.a._0.f" value="6">
                <div id="regist-error" class="form-error notice notice-error" style="display:none;">
                    <span class="icon-notice icon-error"></span>
                    <span class="notice-descript"></span>
                </div>
                <input type="hidden" name="_fm.a._0.re" value="">
                <table id="regist-form" class="form">
                    <tbody><tr>
                        <td class="fm-label"><div class="fm-label-wrap fm-relative">
                            <span class="icon icon-regist-email"></span>
                            <label for="fm-regist-id-email"><span class="noempty">*</span>电子邮箱:</label>
                        </div></td>
                        <td class="fm-field" width="300"><div class="fm-field-wrap">
                            <input type="text" id="fm-regist-id-email" name="_fm.a._0.e" tabindex="1" placeholder="输入电子邮箱作为帐户名" class="fm-text fm-validator" value="">
                            <div class="fm-validator-result"></div></div></td>
                    </tr>
                    <tr>
                        <td class="fm-label"><label for="fm-regist-password"><span class="noempty">*</span>登录密码:</label></td>
                        <td class="fm-field"><div class="fm-field-wrap">
                            <input type="password" id="fm-regist-password" name="_fm.a._0.p" tabindex="2" class="fm-text fm-password fm-validator" autocomplete="off">
                            <div id="fm-regist-password-pstrength" class="pstrength-container"><div id="fm-regist-password-pstrength-bar" class="pstrength-bar clr"><div class="pstrength-bar-weak">弱</div><div class="pstrength-bar-middle">中</div><div class="pstrength-bar-strong">强</div></div></div><div class="fm-validator-result"></div></div></td>
                    </tr>
                    <tr>
                        <td class="fm-label"><label for="fm-regist-repassword"><span class="noempty">*</span>确认登录密码:</label></td>
                        <td class="fm-field"><div class="fm-field-wrap">
                            <input type="password" id="fm-regist-repassword" name="_fm.a._0.r" tabindex="3" class="fm-text fm-password fm-validator" autocomplete="off">
                            <div class="fm-validator-result"></div></div></td>
                    </tr>
                    <!-- 各BU定制的表单内容项 -->
                    <tr>
                        <td></td>
                        <td><div class="fm-split">绑定安全手机(手机号为安全信息，不作登录使用)</div></td>
                    </tr>
                    <tr>
                        <td class="fm-label"><div class="fm-label-wrap fm-relative">
                            <span class="icon icon-regist-mobile"></span>
                            <label for="fm-regist-aliyun-mobile"><span class="noempty">*</span>手机号码:</label>
                        </div></td>
                        <td class="fm-field"><div class="fm-field-wrap">
                            <input type="text" id="fm-regist-aliyun-mobile" name="_fm.a._0.se" tabindex="4" value="" class="fm-text fm-validator">
                            <div class="fm-validator-result"></div></div>
                            <div class="fm-field-extra">
                                <input type="button" id="fm-regist-aliyun-sendsms" tabindex="5" value="获取免费短信校验码" class="fm-button-cancel fm-button-cancel-s" style="float: left;"><div class="sms-sent-info" style="float: left; margin-left: 10px; line-height: 25px; display: none;"></div>
                            </div></td>
                    </tr>
                    <tr>
                        <td class="fm-label"><label for="fm-regist-aliyun-checkcode"><span class="noempty">*</span>短信校验码:</label></td>
                        <td class="fm-field"><div class="fm-field-wrap">
                            <input type="text" id="fm-regist-aliyun-checkcode" name="_fm.a._0.s" tabindex="6" value="" maxlength="6" placeholder="6位数字" class="fm-text fm-checkcode fm-validator">
                            <div class="fm-validator-result"></div></div></td>
                    </tr>
                    <tr>
                        <td></td>
                        <td class="fm-field"><div class="fm-field-wrap">
                            <input type="submit" id="fm-regist-submit" value="同意协议并注册" name="event_submit_do_join" tabindex="7" class="fm-button fm-submit">
                        </div>
                            <div class="fm-field-extra"><a href="https://account.aliyun.com/common/agreement.htm?fromSite=6" target="_blank">《阿里云网站服务协议》</a></div></td>
                    </tr>
                    </tbody></table>
            </form>
        </div>

        <div id="regist-extra">
            <p>阿里云，公共开放的云计算服务平台！</p>
            <p>产品稳定、数据可靠；</p>
            <p>弹性伸缩、按需付费！</p>
            <p>首创金牌服务，让您省心更安心！</p>
            <p>&nbsp;</p>
            <p>注册成功，即享特权：</p>
            <p>1、领取新人大礼包</p>
            <p>2、免费试用云服务器</p>
        </div>
    </div>
    <script>
        var S = KISSY;
        if (S.Config.debug) {
            var srcPath = "../../../";
            S.config({
                packages: [
                    {
                        name: "kg",
                        path: srcPath,
                        charset: "utf-8",
                        ignorePackageNameInUri: true
                    }
                ]
            });
        }

        S.use('kg/pwdstrength/2.0.0/index', function (S, PwdStrength) {

            // 阿里云版
            var pwdStrength = new PwdStrength({
                triggerNode: '#fm-regist-password',
                rule: [85, 60, 30],
                needRender: false,
                onchange: function (level) {
                    // 返回的level值为-2.0.0,1,2, 对应各个级别
                    var container = S.one('#fm-regist-password-pstrength'),
                        containerCls = 'pstrength-container',
                        baseCls = 'pstrength-',
                        clsMap = ['weak', 'middle', 'strong'],
                        newCls = (level >= 0) ? baseCls + clsMap[level] : '';

                    container.attr('class', containerCls + ' ' + newCls);
                }
            });

            S.log(pwdStrength.isAllSame());

        })
    </script>
</body>
</html>